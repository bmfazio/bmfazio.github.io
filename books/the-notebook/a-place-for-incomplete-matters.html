<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 1 A place for incomplete matters | The Book of Notes</title>
  <meta name="description" content="A notebook with assorted content of personal relevance." />
  <meta name="generator" content="bookdown 0.10 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 1 A place for incomplete matters | The Book of Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A notebook with assorted content of personal relevance." />
  <meta name="github-repo" content="bmfazio/bookdown-notebook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 1 A place for incomplete matters | The Book of Notes" />
  
  <meta name="twitter:description" content="A notebook with assorted content of personal relevance." />
  

<meta name="author" content="Boris Fazio" />


<meta name="date" content="2019-06-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html">
<link rel="next" href="bookdown-tools.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="a-place-for-incomplete-matters.html"><a href="a-place-for-incomplete-matters.html"><i class="fa fa-check"></i><b>1</b> A place for incomplete matters</a><ul>
<li class="chapter" data-level="1.1" data-path="a-place-for-incomplete-matters.html"><a href="a-place-for-incomplete-matters.html#finding-a-minimal-theme"><i class="fa fa-check"></i><b>1.1</b> Finding a minimal theme</a></li>
<li class="chapter" data-level="1.2" data-path="a-place-for-incomplete-matters.html"><a href="a-place-for-incomplete-matters.html#remembering-hugo-and-blogdown"><i class="fa fa-check"></i><b>1.2</b> Remembering Hugo and blogdown</a></li>
<li class="chapter" data-level="1.3" data-path="a-place-for-incomplete-matters.html"><a href="a-place-for-incomplete-matters.html#finally-themes"><i class="fa fa-check"></i><b>1.3</b> Finally, themes</a></li>
<li class="chapter" data-level="1.4" data-path="a-place-for-incomplete-matters.html"><a href="a-place-for-incomplete-matters.html#deployment"><i class="fa fa-check"></i><b>1.4</b> Deployment</a></li>
<li class="chapter" data-level="1.5" data-path="a-place-for-incomplete-matters.html"><a href="a-place-for-incomplete-matters.html#hugo-glossarystructure"><i class="fa fa-check"></i><b>1.5</b> Hugo glossary/structure</a></li>
<li class="chapter" data-level="1.6" data-path="a-place-for-incomplete-matters.html"><a href="a-place-for-incomplete-matters.html#integrating-bookdown-with-blogdown"><i class="fa fa-check"></i><b>1.6</b> Integrating bookdown with blogdown</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bookdown-tools.html"><a href="bookdown-tools.html"><i class="fa fa-check"></i>Bookdown tools</a></li>
<li class="chapter" data-level="" data-path="epibiostat-resources.html"><a href="epibiostat-resources.html"><i class="fa fa-check"></i>Epibiostat resources</a></li>
<li class="chapter" data-level="2" data-path="vidulls.html"><a href="vidulls.html"><i class="fa fa-check"></i><b>2</b> Vidulls</a><ul>
<li class="chapter" data-level="2.1" data-path="vidulls.html"><a href="vidulls.html#creation-tools"><i class="fa fa-check"></i><b>2.1</b> Creation tools</a></li>
<li class="chapter" data-level="2.2" data-path="vidulls.html"><a href="vidulls.html#egg-cooking-simulator"><i class="fa fa-check"></i><b>2.2</b> Egg cooking simulator</a></li>
<li class="chapter" data-level="2.3" data-path="vidulls.html"><a href="vidulls.html#tile-trapper"><i class="fa fa-check"></i><b>2.3</b> Tile Trapper</a></li>
<li class="chapter" data-level="2.4" data-path="vidulls.html"><a href="vidulls.html#run-on"><i class="fa fa-check"></i><b>2.4</b> Run-On</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Book of Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="a-place-for-incomplete-matters" class="section level1">
<h1><span class="header-section-number">Section 1</span> A place for incomplete matters</h1>
<p>The unorganized-at-first but progressively-better-structured note taking that tends to characterize forays into new areas of knowledge is better placed in a notebook-type document rather than the blog I initially thought would suffice. Naturally, a blog still retains utility as a way of sharing better structured but still informal communication and posts map to the time domain, which serves as a digital memory of sorts.</p>
<p>I wish to centralize all my online work under one single domain, so both the notebook and blog should be part of my site. Figuring out how to easily integrate this content with Hugo and an RStudio workflow is now the task at hand.</p>
<div id="finding-a-minimal-theme" class="section level2">
<h2><span class="header-section-number">1.1</span> Finding a minimal theme</h2>
<p>In retrospect, the Blackburn theme, simple as it is, still feels bloated to me. I also have second thoughts about the lateral nav bar being the best choice. I think keeping it at the top and therefore out of sight unless the user explicitly wishes to see it is probably best when delivering content you want people to focus on.</p>
<p>I remember that Yihui’s <strong>blogdown</strong> <a href="https://bookdown.org/yihui/blogdown/">online book</a> includes a minimal theme, and I could use with a refresher of the way Hugo works, so I’ll be taking a look at it again.</p>
</div>
<div id="remembering-hugo-and-blogdown" class="section level2">
<h2><span class="header-section-number">1.2</span> Remembering Hugo and blogdown</h2>
<p>From Yihui’s book, section 1.2:</p>
<blockquote>
<p>You have to know three most basic concepts for a Hugo-based website</p>
<ul>
<li>The configuration file <code>config.toml</code></li>
<li>The content directory (by default, <code>content/</code>)</li>
<li>The publishing directory (by default, <code>public/</code>)</li>
</ul>
</blockquote>
<p>It’s important to be on the look out for ways of making <strong>blogdown</strong> flexible, since I want to build a site that goes beyond the blog structure (and being able to manage everything from RStudio would make matters easier).</p>
<p>Here’s one good tip from section 1.3, describing the “New Post” addin:</p>
<blockquote>
<ul>
<li>As you type the title of the post, it will generate a filename for you, and you can edit it if you do not like the automatically generated one. In fact, you can also use this addin to create normal pages under any directories under <code>content/</code>. For example, if you want to add a resume page, you can change the filename to resume.md from the default <code>post/YYYY-mm-dd-resume.md</code>.</li>
</ul>
</blockquote>
<p>Global options for <strong>blogdown</strong>, section 1.4:</p>
<blockquote>
<p>We recommend that you set these options in your R startup profile file.</p>
<p>[…]</p>
<p>Suppose you always prefer writing Rmd posts (instead of the default *.md), and want the author of new posts to be “John Doe” by default. You can set these options in the profile file:</p>
</blockquote>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="dt">blogdown.ext =</span> <span class="st">&quot;.Rmd&quot;</span>, <span class="dt">blogdown.author =</span> <span class="st">&quot;John Doe&quot;</span>)</code></pre>
<p>On rendering R Markdown to HTML (section 1.5):</p>
<blockquote>
<p>You will have some intermediate HTML files in the source directory of your website, because blogdown has to call rmarkdown to pre-render <code>*.Rmd</code> files <code>*.html</code>. You will also have intermediate folders for figures (<code>*_files/</code>) and cache (<code>*_cache/</code>) if you have plot output in R code chunks or have enabled knitr’s caching. Unless you care a lot about the “cleanness” of the source repository of your website (especially when you use a version control tool like GIT), these intermediate files should not matter.</p>
</blockquote>
<p>Note that it says <em>intermediate</em> files. Therefore, I should take care to separate the published website from the repo with the “raw ingredients”.</p>
<p>Also note:</p>
<blockquote>
<p>We have provided an output format function <code>blogdown::html_page</code> in <strong>blogdown</strong>, and all R Markdown files are rendered using this format. It is based on the output format <code>bookdown::html_document2</code>, which means it has inherited a lot of features from <strong>bookdown</strong> in addition to features in Pandoc.</p>
</blockquote>
</div>
<div id="finally-themes" class="section level2">
<h2><span class="header-section-number">1.3</span> Finally, themes</h2>
<blockquote>
<p>In Hugo, themes control the entire appearance and <strong>functionality</strong> of your site. So</p>
</blockquote>
<p>Emphasis mine.</p>
<p>Themes aren’t entirely contained in the <code>/themes</code> folder:</p>
<blockquote>
<p>We recommend that you [create a new site under another new directory and pass the GitHub repository name to the <code>theme</code> argument of <code>new_site()</code>], because Hugo themes could be very complicated and the usage of each theme can be very different and highly dependent on <code>config.toml</code>. If you install a theme using <code>install_theme()</code> instead of <code>new_site()</code> you’ll need to manually create the <code>config.toml</code> file in the root directory of your website to match the newly installed theme.</p>
</blockquote>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># for example, create a new site with the academic theme</span>
blogdown<span class="op">::</span><span class="kw">new_site</span>(<span class="dt">theme =</span> <span class="st">&quot;gcushen/hugo-academic&quot;</span>)</code></pre>
<p>And finally, the list of minimal themes. The two options I’m considering:</p>
<ul>
<li><p><a href="https://github.com/yihui/hugo-xmin">XMin</a></p></li>
<li><p><a href="https://github.com/nanxstats/hugo-tanka">Tanka</a></p></li>
</ul>
<p>I’ve decided on <strong>Xmin</strong> because</p>
<blockquote>
<p>The main motivation for writing this theme was to provide a really minimal example to beginners of Hugo templates. This XMin theme contains about 130 lines of code in total, including the code in HTML templates and CSS (also counting empty lines).</p>
</blockquote>
</div>
<div id="deployment" class="section level2">
<h2><span class="header-section-number">1.4</span> Deployment</h2>
<blockquote>
<p>Since the website is basically a folder containing static files, it is much easier to deploy than websites that require dynamic server-side languages such as PHP or databases. All you need is to upload the files to a server, and usually your website will be up and running shortly.</p>
</blockquote>
</div>
<div id="hugo-glossarystructure" class="section level2">
<h2><span class="header-section-number">1.5</span> Hugo glossary/structure</h2>
<ul>
<li><p>Front matter: YAML/TOML/JSON block at the top of markdown file that contains a page’s metadata</p></li>
<li><p>Taxonomies: helps organize pages category and tag are included by default (more can be defined in config.toml)</p></li>
<li><p>Templates: HTML skeletons found in <code>layouts/</code></p></li>
<li><p>List page: by default, the <code>_index.html</code> page in <code>content/</code> or a subfolder, uses the theme’s <code>_default/list.html</code> template</p></li>
<li><p>Shortcodes, Sections</p></li>
</ul>
<p>Working with list pages to show items categorized by subfolders</p>
<p><a href="https://discourse.gohugo.io/t/listing-nested-directories/7198/1" class="uri">https://discourse.gohugo.io/t/listing-nested-directories/7198/1</a></p>
<p>Also, a very relevant quote I fully identify with:</p>
<blockquote>
<p>One thing I have noticed is grasping how Hugo is designed to work by overriding rather than editing files- I think understanding the underlying file structure at first is hard.</p>
</blockquote>
<p><a href="https://community.rstudio.com/t/what-is-hard-about-blogdown/8108" class="uri">https://community.rstudio.com/t/what-is-hard-about-blogdown/8108</a></p>
<p>Some Hugo magic:</p>
<p><a href="https://regisphilibert.com/blog/2018/02/hugo-the-scope-the-context-and-the-dot/" class="uri">https://regisphilibert.com/blog/2018/02/hugo-the-scope-the-context-and-the-dot/</a></p>
</div>
<div id="integrating-bookdown-with-blogdown" class="section level2">
<h2><span class="header-section-number">1.6</span> Integrating bookdown with blogdown</h2>
<p><a href="https://community.rstudio.com/t/integrating-bookdown-and-blogdown-how-to-display-books-like-posts-in-a-list-page/32575">My question</a> on the RStudio forums got no answers after a weeks, so I started experimenting.</p>
<p>My initial idea was to place the raw <strong>bookdown</strong> inputs into <code>content/resources/</code> and build those together with the site, but that’s actually probably a bad idea since I would have needed to figure out just how to do that and building the book is already something one does while editing it, so it’s not like it would save a massive amount of time.</p>
<p>I decided to directly place the <strong>bookdown</strong> output in that same directory instead, but <strong>blogdown</strong> was only importing the <code>index.html</code> file and ignoring the rest of sections for some reason. Instead of figuring that one out, I discovered that the <code>static</code> folder is bundled as-is when the site builds.</p>
<p>So that solved getting the books working with the rest of the site’s workflow. Further refinements that I’ve thought about are: automatically creating the list of books in the <em>Resources</em> section by using an R code block that looks at the stuff inside <code>static</code> as the site builds, and using symbolic links to a single <code>libs</code> folder that all the books share. The latter is highly unnecessary since the folder isn’t very big and I doubt I’ll ever have that many books that it becomes a problem, but it provided an opportunity to learn about symbolic links on <strong>Windows</strong> and their interaction with <strong>Git</strong>… testing whether they clone nicely into a Linux machine is pending (also, must figure out how to use <code>system</code> to automate that part of the process).</p>
<p>Some code I’m working on to do the listing thing:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(rvest)

blogdown<span class="op">:::</span><span class="kw">site_root</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">paste0</span>(<span class="st">&quot;/static/books&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">list.files</span>(<span class="dt">pattern =</span> <span class="st">&quot;^index.html&quot;</span>, <span class="dt">recursive =</span> T, <span class="dt">full.names =</span> T) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sapply</span>(<span class="cf">function</span>(x)<span class="kw">read_html</span>(x) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_nodes</span>(<span class="st">&quot;title&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_text</span>())</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bookdown-tools.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
